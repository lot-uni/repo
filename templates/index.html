<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./css/style.css">
    <title>MORIPURA</title>
</head>
<body>
    <H1>MORIPURA</H1>
    <canvas id="board" width="460" height="460"></canvas><br>
    <button id="download">download</button>
    <script>
    window.onload = ()=>{
      // canvas準備
      const board = document.querySelector("#board");  //getElementById()等でも可。オブジェクトが取れれば良い。
      const ctx = board.getContext("2d");
      // 画像読み込み
      const chara = new Image();
      chara.src = "/image/toukai";  // 画像のURLを指定
      chara.onload = () => {
        ctx.drawImage(chara, 0, 0);
        ctx.fillStyle = "rgb(200, 0, 0)";
        ctx.fillRect(10, 10, 50, 50);
      };

      document.getElementById("download").onclick = (event) => {
    let canvas = document.querySelector("#board");
    let link = document.createElement("a");
    link.href = canvas.toDataURL("image/png");
    link.download = "test.png";
    link.click();
    }
    };
    </script>
    
</body>
</html>